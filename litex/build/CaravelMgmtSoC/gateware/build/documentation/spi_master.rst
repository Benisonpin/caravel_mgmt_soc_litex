SPI_MASTER
==========

Register Listing for SPI_MASTER
-------------------------------

+--------------------------------------------------------+--------------------------------------------+
| Register                                               | Address                                    |
+========================================================+============================================+
| :ref:`SPI_MASTER_CONTROL <SPI_MASTER_CONTROL>`         | :ref:`0x82003000 <SPI_MASTER_CONTROL>`     |
+--------------------------------------------------------+--------------------------------------------+
| :ref:`SPI_MASTER_STATUS <SPI_MASTER_STATUS>`           | :ref:`0x82003004 <SPI_MASTER_STATUS>`      |
+--------------------------------------------------------+--------------------------------------------+
| :ref:`SPI_MASTER_MOSI <SPI_MASTER_MOSI>`               | :ref:`0x82003008 <SPI_MASTER_MOSI>`        |
+--------------------------------------------------------+--------------------------------------------+
| :ref:`SPI_MASTER_MISO <SPI_MASTER_MISO>`               | :ref:`0x8200300c <SPI_MASTER_MISO>`        |
+--------------------------------------------------------+--------------------------------------------+
| :ref:`SPI_MASTER_CS <SPI_MASTER_CS>`                   | :ref:`0x82003010 <SPI_MASTER_CS>`          |
+--------------------------------------------------------+--------------------------------------------+
| :ref:`SPI_MASTER_LOOPBACK <SPI_MASTER_LOOPBACK>`       | :ref:`0x82003014 <SPI_MASTER_LOOPBACK>`    |
+--------------------------------------------------------+--------------------------------------------+
| :ref:`SPI_MASTER_CLK_DIVIDER <SPI_MASTER_CLK_DIVIDER>` | :ref:`0x82003018 <SPI_MASTER_CLK_DIVIDER>` |
+--------------------------------------------------------+--------------------------------------------+

SPI_MASTER_CONTROL
^^^^^^^^^^^^^^^^^^

`Address: 0x82003000 + 0x0 = 0x82003000`

    SPI Control.

    .. wavedrom::
        :caption: SPI_MASTER_CONTROL

        {
            "reg": [
                {"name": "start",  "type": 4, "bits": 1},
                {"bits": 7},
                {"name": "length",  "bits": 8},
                {"bits": 16}
            ], "config": {"hspace": 400, "bits": 32, "lanes": 4 }, "options": {"hspace": 400, "bits": 32, "lanes": 4}
        }


+--------+--------+---------------------------------------------+
| Field  | Name   | Description                                 |
+========+========+=============================================+
| [0]    | START  | SPI Xfer Start (Write ``1`` to start Xfer). |
+--------+--------+---------------------------------------------+
| [15:8] | LENGTH | SPI Xfer Length (in bits).                  |
+--------+--------+---------------------------------------------+

SPI_MASTER_STATUS
^^^^^^^^^^^^^^^^^

`Address: 0x82003000 + 0x4 = 0x82003004`

    SPI Status.

    .. wavedrom::
        :caption: SPI_MASTER_STATUS

        {
            "reg": [
                {"name": "done",  "bits": 1},
                {"bits": 31}
            ], "config": {"hspace": 400, "bits": 32, "lanes": 4 }, "options": {"hspace": 400, "bits": 32, "lanes": 4}
        }


+-------+------+-------------------------------------+
| Field | Name | Description                         |
+=======+======+=====================================+
| [0]   | DONE | SPI Xfer Done (when read as ``1``). |
+-------+------+-------------------------------------+

SPI_MASTER_MOSI
^^^^^^^^^^^^^^^

`Address: 0x82003000 + 0x8 = 0x82003008`

    SPI MOSI data (MSB-first serialization).

    .. wavedrom::
        :caption: SPI_MASTER_MOSI

        {
            "reg": [
                {"name": "mosi[7:0]", "bits": 8},
                {"bits": 24},
            ], "config": {"hspace": 400, "bits": 32, "lanes": 1 }, "options": {"hspace": 400, "bits": 32, "lanes": 1}
        }


SPI_MASTER_MISO
^^^^^^^^^^^^^^^

`Address: 0x82003000 + 0xc = 0x8200300c`

    SPI MISO data (MSB-first de-serialization).

    .. wavedrom::
        :caption: SPI_MASTER_MISO

        {
            "reg": [
                {"name": "miso[7:0]", "bits": 8},
                {"bits": 24},
            ], "config": {"hspace": 400, "bits": 32, "lanes": 1 }, "options": {"hspace": 400, "bits": 32, "lanes": 1}
        }


SPI_MASTER_CS
^^^^^^^^^^^^^

`Address: 0x82003000 + 0x10 = 0x82003010`

    SPI CS Chip-Select and Mode.

    .. wavedrom::
        :caption: SPI_MASTER_CS

        {
            "reg": [
                {"name": "sel",  "attr": '1', "bits": 1},
                {"bits": 15},
                {"name": "mode",  "bits": 1},
                {"bits": 15}
            ], "config": {"hspace": 400, "bits": 32, "lanes": 4 }, "options": {"hspace": 400, "bits": 32, "lanes": 4}
        }


+-------+------+-----------------------------------------------------------------------------------------------------------+
| Field | Name | Description                                                                                               |
+=======+======+===========================================================================================================+
| [0]   | SEL  |                                                                                                           |
|       |      |                                                                                                           |
|       |      | +--------------+-----------------------------------+                                                      |
|       |      | | Value        | Description                       |                                                      |
|       |      | +==============+===================================+                                                      |
|       |      | | ``0b0..001`` | Chip ``0`` selected for SPI Xfer. |                                                      |
|       |      | +--------------+-----------------------------------+                                                      |
|       |      | | ``0b1..000`` | Chip ``N`` selected for SPI Xfer. |                                                      |
|       |      | +--------------+-----------------------------------+                                                      |
+-------+------+-----------------------------------------------------------------------------------------------------------+
| [16]  | MODE |                                                                                                           |
|       |      |                                                                                                           |
|       |      | +---------+---------------------------------------------------------------------------------------------+ |
|       |      | | Value   | Description                                                                                 | |
|       |      | +=========+=============================================================================================+ |
|       |      | | ``0b0`` | Normal operation (CS handled by Core).                                                      | |
|       |      | +---------+---------------------------------------------------------------------------------------------+ |
|       |      | | ``0b1`` | Manual operation (CS handled by User, direct recopy of ``sel``), useful for Bulk transfers. | |
|       |      | +---------+---------------------------------------------------------------------------------------------+ |
+-------+------+-----------------------------------------------------------------------------------------------------------+

SPI_MASTER_LOOPBACK
^^^^^^^^^^^^^^^^^^^

`Address: 0x82003000 + 0x14 = 0x82003014`

    SPI Loopback Mode.

    .. wavedrom::
        :caption: SPI_MASTER_LOOPBACK

        {
            "reg": [
                {"name": "mode",  "bits": 1},
                {"bits": 31}
            ], "config": {"hspace": 400, "bits": 32, "lanes": 4 }, "options": {"hspace": 400, "bits": 32, "lanes": 4}
        }


+-------+------+--------------------------------------------------+
| Field | Name | Description                                      |
+=======+======+==================================================+
| [0]   | MODE |                                                  |
|       |      |                                                  |
|       |      | +---------+------------------------------------+ |
|       |      | | Value   | Description                        | |
|       |      | +=========+====================================+ |
|       |      | | ``0b0`` | Normal operation.                  | |
|       |      | +---------+------------------------------------+ |
|       |      | | ``0b1`` | Loopback operation (MOSI to MISO). | |
|       |      | +---------+------------------------------------+ |
+-------+------+--------------------------------------------------+

SPI_MASTER_CLK_DIVIDER
^^^^^^^^^^^^^^^^^^^^^^

`Address: 0x82003000 + 0x18 = 0x82003018`

    SPI Clk Divider.

    .. wavedrom::
        :caption: SPI_MASTER_CLK_DIVIDER

        {
            "reg": [
                {"name": "clk_divider[15:0]", "attr": 'reset: 100', "bits": 16},
                {"bits": 16},
            ], "config": {"hspace": 400, "bits": 32, "lanes": 1 }, "options": {"hspace": 400, "bits": 32, "lanes": 1}
        }


